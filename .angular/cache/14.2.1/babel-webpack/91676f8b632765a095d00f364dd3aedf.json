{"ast":null,"code":"import _toConsumableArray from \"C:/Users/\\u05D0\\u05D1\\u05D9\\u05D1/Documents/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/\\u05D4\\u05D2\\u05E9\\u05D4 \\u05EA\\u05DB\\u05E0\\u05D5\\u05EA/Client22/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"C:/Users/\\u05D0\\u05D1\\u05D9\\u05D1/Documents/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/\\u05D4\\u05D2\\u05E9\\u05D4 \\u05EA\\u05DB\\u05E0\\u05D5\\u05EA/Client22/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/\\u05D0\\u05D1\\u05D9\\u05D1/Documents/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/\\u05D4\\u05D2\\u05E9\\u05D4 \\u05EA\\u05DB\\u05E0\\u05D5\\u05EA/Client22/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { FormControl } from '@angular/forms';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { of, forkJoin } from 'rxjs';\nimport { tap, startWith, switchMap, debounceTime, distinctUntilChanged, finalize } from 'rxjs/operators';\nimport { SmartFlightsFilterService } from '../Utils/smartFlightsFilter.service';\nimport { ParamTypes } from '../interfaces/QualityParam';\nimport { searchState } from '../enums/searchState';\nimport { DataDisplayService } from '../Utils/dataDisplay.service';\nimport { MatDialog } from '@angular/material';\nimport { DaysOffDialogComponent } from '../daysOffDialog/daysOffDialog.component';\nimport { FilterTripsService } from '../Utils/filterTrips.Service';\nimport { DaysOffUtilsService, weekDay } from '../Utils/daysOffUtils.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../Utils/smartFlightsFilter.service\";\nimport * as i3 from \"../Utils/dataDisplay.service\";\nimport * as i4 from \"@angular/material\";\nimport * as i5 from \"../Utils/filterTrips.Service\";\nimport * as i6 from \"../Utils/daysOffUtils.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"saturn-datepicker\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/core\";\nimport * as i12 from \"../flightsResults/flightsResults.component\";\nimport * as i13 from \"../errorMessage/errorMessage.component\";\nimport * as i14 from \"../noResultsMessage/noResultsMessage.component\";\nimport * as i15 from \"../loadingBar/loadingBar.component\";\n\nfunction SearchFlightsComponent_mat_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelement(1, \"mat-spinner\", 38);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchFlightsComponent_mat_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 39)(1, \"div\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var option_r14 = ctx.$implicit;\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", option_r14);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.dataDisplayService.getPlaceDisplay(option_r14));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r14.countryName);\n  }\n}\n\nfunction SearchFlightsComponent_mat_option_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelement(1, \"mat-spinner\", 38);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchFlightsComponent_mat_option_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 39)(1, \"div\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var option_r15 = ctx.$implicit;\n    var ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", option_r15);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.dataDisplayService.getPlaceDisplay(option_r15));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r15.countryName);\n  }\n}\n\nfunction SearchFlightsComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 42);\n    i0.ɵɵelement(2, \"input\", 43)(3, \"mat-datepicker-toggle\", 44)(4, \"mat-datepicker\", null, 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-form-field\", 46);\n    i0.ɵɵelement(7, \"input\", 47)(8, \"mat-datepicker-toggle\", 44)(9, \"mat-datepicker\", null, 48);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var _r16 = i0.ɵɵreference(5);\n\n    var _r17 = i0.ɵɵreference(10);\n\n    var ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"min\", ctx_r7.minDate)(\"max\", ctx_r7.maxDate)(\"matDatepicker\", _r16)(\"formControl\", ctx_r7.departureDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", _r16);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"min\", ctx_r7.minDate)(\"max\", ctx_r7.maxDate)(\"disabled\", ctx_r7.isOneWay())(\"matDatepicker\", _r17)(\"formControl\", ctx_r7.returnDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", _r17);\n  }\n}\n\nfunction SearchFlightsComponent_div_39_mat_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var num_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", num_r20);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", num_r20, \" \");\n  }\n}\n\nfunction SearchFlightsComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"mat-form-field\", 49)(3, \"mat-label\");\n    i0.ɵɵtext(4, \"Days Off\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-select\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_39_Template_mat_select_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      var ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.numberOfDaysOff = $event);\n    });\n    i0.ɵɵtemplate(6, SearchFlightsComponent_div_39_mat_option_6_Template, 2, 2, \"mat-option\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function SearchFlightsComponent_div_39_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r22);\n      var ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.openDaysOffDialog());\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"help\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"mat-form-field\");\n    i0.ɵɵelement(11, \"input\", 51)(12, \"sat-datepicker\", 52, 53)(14, \"sat-datepicker-toggle\", 44);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var _r19 = i0.ɵɵreference(13);\n\n    var ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.numberOfDaysOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.numberOfDaysOffOptions);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"satDatepicker\", _r19)(\"formControl\", ctx_r8.daysOffDateRange)(\"min\", ctx_r8.minDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"rangeMode\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", _r19);\n  }\n}\n\nfunction SearchFlightsComponent_mat_option_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var num_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", num_r24);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", num_r24, \" \");\n  }\n}\n\nfunction SearchFlightsComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"span\");\n    i0.ɵɵtext(2, \"Speed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-slider\", 56, 57);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_51_Template_mat_slider_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      var ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.sliderValue = $event);\n    })(\"slideend\", function SearchFlightsComponent_div_51_Template_mat_slider_slideend_3_listener() {\n      i0.ɵɵrestoreView(_r27);\n\n      var _r25 = i0.ɵɵreference(4);\n\n      var ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.onSliderInputChange(_r25.value));\n    })(\"pointerup\", function SearchFlightsComponent_div_51_Template_mat_slider_pointerup_3_listener() {\n      i0.ɵɵrestoreView(_r27);\n\n      var _r25 = i0.ɵɵreference(4);\n\n      var ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.onSliderInputChange(_r25.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"Price\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"max\", ctx_r10.maxSliderValue)(\"min\", ctx_r10.minSliderValue)(\"ngModel\", ctx_r10.sliderValue);\n  }\n}\n\nfunction SearchFlightsComponent_div_53_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\": \", ctx_r30.priceSliderValue, \"$\");\n  }\n}\n\nfunction SearchFlightsComponent_div_53_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function SearchFlightsComponent_div_53_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      var ctx_r33 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r33.resetPriceSlider());\n    });\n    i0.ɵɵtext(1, \"reset\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchFlightsComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"mat-expansion-panel\", 59)(2, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(3, \" Price \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5, \"Max Price \");\n    i0.ɵɵtemplate(6, SearchFlightsComponent_div_53_span_6_Template, 2, 1, \"span\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-slider\", 60, 61);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_slider_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.priceSliderValue = $event);\n    })(\"slideend\", function SearchFlightsComponent_div_53_Template_mat_slider_slideend_7_listener() {\n      i0.ɵɵrestoreView(_r36);\n\n      var _r31 = i0.ɵɵreference(8);\n\n      var ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.onPriceSliderInputChange(_r31.value));\n    })(\"pointerup\", function SearchFlightsComponent_div_53_Template_mat_slider_pointerup_7_listener() {\n      i0.ɵɵrestoreView(_r36);\n\n      var _r31 = i0.ɵɵreference(8);\n\n      var ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.onPriceSliderInputChange(_r31.value));\n    })(\"input\", function SearchFlightsComponent_div_53_Template_mat_slider_input_7_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.onPriceInputLiveChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, SearchFlightsComponent_div_53_button_9_Template, 2, 0, \"button\", 62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-expansion-panel\", 59)(11, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(12, \" Stops \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 63)(14, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.filterParams.numOfStops.zero = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_14_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.onCheckboxChanged());\n    });\n    i0.ɵɵtext(15, \"Non-Stop \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.filterParams.numOfStops.one = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_16_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.onCheckboxChanged());\n    });\n    i0.ɵɵtext(17, \"1 Stop \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.filterParams.numOfStops.two = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_18_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.onCheckboxChanged());\n    });\n    i0.ɵɵtext(19, \"2 Stops \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.filterParams.numOfStops.threeAndMore = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_20_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.onCheckboxChanged());\n    });\n    i0.ɵɵtext(21, \"3+ Stops \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\")(23, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function SearchFlightsComponent_div_53_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.resetStopsCheckboxs());\n    });\n    i0.ɵɵtext(24, \"reset\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(25, \"mat-expansion-panel\", 59)(26, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(27, \" Outbound Flight \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 63)(29, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.filterParams.flightTime.outbound.morning = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_29_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.onCheckboxChanged());\n    });\n    i0.ɵɵtext(30, \" morning \");\n    i0.ɵɵelementStart(31, \"span\", 66);\n    i0.ɵɵtext(32, \"(5am - 12pm)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.filterParams.flightTime.outbound.afternoon = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_33_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.onCheckboxChanged());\n    });\n    i0.ɵɵtext(34, \" afternoon \");\n    i0.ɵɵelementStart(35, \"span\", 66);\n    i0.ɵɵtext(36, \"(12pm - 17pm)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_37_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.filterParams.flightTime.outbound.evening = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_37_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.onCheckboxChanged());\n    });\n    i0.ɵɵtext(38, \" evening \");\n    i0.ɵɵelementStart(39, \"span\", 66);\n    i0.ɵɵtext(40, \"(17pm - 21pm)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.filterParams.flightTime.outbound.night = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_41_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.onCheckboxChanged());\n    });\n    i0.ɵɵtext(42, \"night \");\n    i0.ɵɵelementStart(43, \"span\", 66);\n    i0.ɵɵtext(44, \"(21pm - 5am)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"div\")(46, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function SearchFlightsComponent_div_53_Template_button_click_46_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r57 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r57.resetOutboundTimesCheckboxs());\n    });\n    i0.ɵɵtext(47, \"reset\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(48, \"mat-expansion-panel\", 59)(49, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(50, \" Inbound Flight \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 63)(52, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_52_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r58 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r58.filterParams.flightTime.inbound.morning = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_52_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r59 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r59.onCheckboxChanged());\n    });\n    i0.ɵɵtext(53, \" morning \");\n    i0.ɵɵelementStart(54, \"span\", 66);\n    i0.ɵɵtext(55, \"(5am - 12pm)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(56, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_56_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.filterParams.flightTime.inbound.afternoon = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_56_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r61.onCheckboxChanged());\n    });\n    i0.ɵɵtext(57, \" afternoon \");\n    i0.ɵɵelementStart(58, \"span\", 66);\n    i0.ɵɵtext(59, \"(12pm - 17pm)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(60, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_60_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.filterParams.flightTime.inbound.evening = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_60_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r63 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r63.onCheckboxChanged());\n    });\n    i0.ɵɵtext(61, \" evening \");\n    i0.ɵɵelementStart(62, \"span\", 66);\n    i0.ɵɵtext(63, \"(17pm - 21pm)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(64, \"mat-checkbox\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_div_53_Template_mat_checkbox_ngModelChange_64_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r64 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r64.filterParams.flightTime.inbound.night = $event);\n    })(\"change\", function SearchFlightsComponent_div_53_Template_mat_checkbox_change_64_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r65 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r65.onCheckboxChanged());\n    });\n    i0.ɵɵtext(65, \"night \");\n    i0.ɵɵelementStart(66, \"span\", 66);\n    i0.ɵɵtext(67, \"(21pm - 5am)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(68, \"div\")(69, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function SearchFlightsComponent_div_53_Template_button_click_69_listener() {\n      i0.ɵɵrestoreView(_r36);\n      var ctx_r66 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r66.resetInboundTimesCheckboxs());\n    });\n    i0.ɵɵtext(70, \"reset\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.priceSliderValue);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"max\", ctx_r11.maxPriceSliderValue)(\"min\", ctx_r11.minPriceSliderValue)(\"ngModel\", ctx_r11.priceSliderValue);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.priceSliderValue);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.numOfStops.zero);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.numOfStops.one);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.numOfStops.two);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.numOfStops.threeAndMore);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.outbound.morning);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.outbound.afternoon);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.outbound.evening);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.outbound.night);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.inbound.morning);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.inbound.afternoon);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.inbound.evening);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterParams.flightTime.inbound.night);\n  }\n}\n\nfunction SearchFlightsComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 67);\n  }\n}\n\nfunction SearchFlightsComponent_mat_card_55_app_error_message_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-error-message\");\n  }\n}\n\nfunction SearchFlightsComponent_mat_card_55_app_no_results_message_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-no-results-message\");\n  }\n}\n\nfunction SearchFlightsComponent_mat_card_55_app_loading_bar_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-bar\", 71);\n  }\n\n  if (rf & 2) {\n    var ctx_r69 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"message\", ctx_r69.loadingMessage)(\"value\", ctx_r69.loadingProgress);\n  }\n}\n\nfunction SearchFlightsComponent_mat_card_55_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 72);\n    i0.ɵɵelement(1, \"app-flights-results\", 73);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r70 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"flightsResults\", ctx_r70.filteredTripOptions);\n  }\n}\n\nfunction SearchFlightsComponent_mat_card_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 68);\n    i0.ɵɵtemplate(1, SearchFlightsComponent_mat_card_55_app_error_message_1_Template, 1, 0, \"app-error-message\", 25);\n    i0.ɵɵtemplate(2, SearchFlightsComponent_mat_card_55_app_no_results_message_2_Template, 1, 0, \"app-no-results-message\", 25);\n    i0.ɵɵtemplate(3, SearchFlightsComponent_mat_card_55_app_loading_bar_3_Template, 1, 2, \"app-loading-bar\", 69);\n    i0.ɵɵtemplate(4, SearchFlightsComponent_mat_card_55_div_4_Template, 2, 1, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.currentSearchState === ctx_r13.searchStatesEnum.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.currentSearchState === ctx_r13.searchStatesEnum.noResults);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.currentSearchState === ctx_r13.searchStatesEnum.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.currentSearchState === ctx_r13.searchStatesEnum.succsses);\n  }\n}\n\nexport var SearchFlightsComponent = /*#__PURE__*/(function () {\n  var SearchFlightsComponent = /*#__PURE__*/function () {\n    function SearchFlightsComponent(http, baseUrl, smartFlightsFilterService, dataDisplayService, dialog, filterTripsService, daysOffUtilsService) {\n      _classCallCheck(this, SearchFlightsComponent);\n\n      this.http = http;\n      this.baseUrl = baseUrl;\n      this.smartFlightsFilterService = smartFlightsFilterService;\n      this.dataDisplayService = dataDisplayService;\n      this.dialog = dialog;\n      this.filterTripsService = filterTripsService;\n      this.daysOffUtilsService = daysOffUtilsService;\n      this.loadingProgress = 0;\n      this.loadingMessage = 'Searching for flights...';\n      this.searchStatesEnum = searchState;\n      this.currentSearchState = searchState.empty;\n      this.minAutocompliteLength = 2;\n      this.whereTo = new FormControl();\n      this.tripType = 'roundTrip';\n      this.whereFrom = new FormControl();\n      this.searchByDates = 'Dates';\n      this.searchByDaysOff = 'DaysOff';\n      this.datesToggleValue = this.searchByDates;\n      this.isLoadingFromOptions = false;\n      this.isLoadingToOptions = false;\n      this.serverResult = [];\n      this.qualityParams = [{\n        paramType: ParamTypes.price,\n        paramImportancePrecent: 40\n      }, {\n        paramType: ParamTypes.totalTripLength,\n        paramImportancePrecent: 40\n      }, {\n        paramType: ParamTypes.numberOfStops,\n        paramImportancePrecent: 20\n      }];\n      this.minSliderValue = 10;\n      this.maxSliderValue = 70;\n      this.sliderValue = (this.maxSliderValue + this.minSliderValue) / 2;\n      this.numberOfPassengersOptions = [1, 2, 3, 4, 5, 6, 7, 8];\n      this.numberOfPassengers = 2;\n      this.numberOfDaysOffOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\n      this.numberOfDaysOff = 4;\n      this.daysOff = [{\n        name: weekDay.sunday,\n        isFreeDay: false\n      }, {\n        name: weekDay.monday,\n        isFreeDay: false\n      }, {\n        name: weekDay.tuesday,\n        isFreeDay: false\n      }, {\n        name: weekDay.wednesday,\n        isFreeDay: false\n      }, {\n        name: weekDay.thursday,\n        isFreeDay: false\n      }, {\n        name: weekDay.friday,\n        isFreeDay: true\n      }, {\n        name: weekDay.saturday,\n        isFreeDay: true\n      }];\n      this.filterParams = {\n        maxPrice: undefined,\n        flightTime: {\n          inbound: {\n            morning: true,\n            afternoon: true,\n            evening: true,\n            night: true\n          },\n          outbound: {\n            morning: true,\n            afternoon: true,\n            evening: true,\n            night: true\n          }\n        },\n        numOfStops: {\n          zero: true,\n          one: true,\n          two: false,\n          threeAndMore: false\n        }\n      };\n      this.minPriceSliderValue = 0;\n      this.maxPriceSliderValue = 3000;\n      this.initializeDates();\n      this.subscribeToWhereFromField();\n      this.subscribeToWhereToField();\n    }\n\n    _createClass(SearchFlightsComponent, [{\n      key: \"initializeDates\",\n      value: function initializeDates() {\n        this.minDate = new Date();\n        this.maxDate = new Date(this.minDate.getFullYear() + 1, this.minDate.getMonth(), this.minDate.getDate());\n        this.defultDepartureDate = new Date();\n        this.defultDepartureDate.setHours(0, 0, 0, 0);\n        this.departureDate = new FormControl(this.defultDepartureDate);\n        var returnDate = new Date();\n        returnDate.setDate(returnDate.getDate() + 1);\n        this.returnDate = new FormControl(returnDate);\n        var returnDateForRange = new Date();\n        returnDateForRange.setDate(returnDate.getDate() + 7);\n        this.daysOffDateRange = new FormControl({\n          begin: new Date(),\n          end: returnDateForRange\n        });\n      }\n    }, {\n      key: \"subscribeToWhereFromField\",\n      value: function subscribeToWhereFromField() {\n        var _this = this;\n\n        var fromLoadingRequestNumber = 0;\n        var fromFinishedRequestNumber = 0;\n        this.whereFrom.valueChanges.pipe(startWith(null), debounceTime(500), tap(function () {\n          fromLoadingRequestNumber++;\n          _this.isLoadingFromOptions = true;\n        }), distinctUntilChanged(), switchMap(function (val) {\n          return _this.getFlightPlacesFromServer(val || '').pipe(finalize(function () {\n            fromFinishedRequestNumber++;\n\n            if (fromFinishedRequestNumber === fromFinishedRequestNumber) {\n              _this.isLoadingFromOptions = false;\n            }\n          }));\n        })).subscribe(function (result) {\n          return _this.fromOptions = result;\n        });\n      }\n    }, {\n      key: \"subscribeToWhereToField\",\n      value: function subscribeToWhereToField() {\n        var _this2 = this;\n\n        var toLoadingRequestNumber = 0;\n        var toFinishedRequestNumber = 0;\n        this.whereTo.valueChanges.pipe(startWith(null), debounceTime(500), tap(function () {\n          toLoadingRequestNumber++;\n          _this2.isLoadingToOptions = true;\n        }), distinctUntilChanged(), switchMap(function (val) {\n          return _this2.getFlightPlacesFromServer(val || '').pipe(finalize(function () {\n            toFinishedRequestNumber++;\n\n            if (toFinishedRequestNumber === toLoadingRequestNumber) {\n              _this2.isLoadingToOptions = false;\n            }\n          }));\n        })).subscribe(function (re) {\n          _this2.toOptions = re;\n        });\n      }\n    }, {\n      key: \"getFlightPlacesFromServer\",\n      value: function getFlightPlacesFromServer(val) {\n        if (val && val.length >= this.minAutocompliteLength) {\n          var params = new HttpParams().set('query', val); // return this.http.get<any[]>(this.baseUrl + 'api/SkyScanner/GetPlaces', { params: params });\n\n          return this.http.get('http://localhost:8000/' + 'api/AmadeusController/GetPlaces', {\n            params: params\n          });\n        }\n\n        return of([]);\n      }\n    }, {\n      key: \"onSearch\",\n      value: function onSearch() {\n        var _this3 = this;\n\n        this.resetResults();\n        this.setCurrentState(searchState.loading);\n        this.manageLoadingValue();\n\n        if (this.datesToggleValue === this.searchByDaysOff) {\n          var searchDates = this.daysOffUtilsService.getDatesToSerach(this.daysOffDateRange.value, this.numberOfDaysOff, this.daysOff);\n          var observables = [];\n          searchDates.forEach(function (dateRange) {\n            observables.push(_this3.requestFromServer(dateRange.begin, dateRange.end));\n          });\n          forkJoin(observables).subscribe(function (results) {\n            results.forEach(function (tripOptions) {\n              var _this3$serverResult;\n\n              (_this3$serverResult = _this3.serverResult).push.apply(_this3$serverResult, _toConsumableArray(tripOptions));\n            });\n            _this3.allTripOptions = _this3.smartFlightsFilterService.getBestTripsResults(_this3.serverResult, _this3.qualityParams);\n\n            if (_this3.allTripOptions.length === 0) {\n              _this3.setCurrentState(searchState.noResults);\n\n              return;\n            }\n\n            _this3.filteredTripOptions = _this3.filterTripsService.getFilteredTrips(_this3.allTripOptions, _this3.filterParams);\n\n            _this3.setCurrentState(searchState.succsses);\n          }, function (error) {\n            return _this3.onError(error);\n          });\n        } else {\n          this.requestFromServer(this.departureDate.value, this.returnDate.value).subscribe(function (tripOptions) {\n            _this3.serverResult = tripOptions;\n            _this3.allTripOptions = _this3.smartFlightsFilterService.getBestTripsResults(_this3.serverResult, _this3.qualityParams);\n\n            if (_this3.allTripOptions.length === 0) {\n              _this3.setCurrentState(searchState.noResults);\n\n              return;\n            }\n\n            _this3.filteredTripOptions = _this3.filterTripsService.getFilteredTrips(_this3.allTripOptions, _this3.filterParams);\n\n            _this3.setCurrentState(searchState.succsses);\n          }, function (error) {\n            return _this3.onError(error);\n          });\n        }\n      }\n    }, {\n      key: \"requestFromServer\",\n      value: function requestFromServer(departureDate, returnDate) {\n        if (departureDate === this.addHoursToDate(this.defultDepartureDate, 3)) {\n          departureDate = new Date();\n        }\n\n        departureDate = this.addHoursToDate(departureDate, 3);\n        returnDate = this.addHoursToDate(returnDate, 3);\n        var body = new HttpParams().append('outboundDate', departureDate ? departureDate.toISOString() : null).append('inboundDate', returnDate ? returnDate.toISOString() : null).append('originPlace', JSON.stringify(this.whereFrom.value)).append('destinationPlace', JSON.stringify(this.whereTo.value)).append('people', this.numberOfPassengers.toString()).append('oneWay', this.isOneWay().toString()); //return this.http.post<any[]>(this.baseUrl + 'api/SkyScanner/flights', param);\n\n        return this.http.post('http://localhost:8000/' + 'api/AmadeusController/GetFlights', body);\n      }\n    }, {\n      key: \"onError\",\n      value: function onError(error) {\n        this.setCurrentState(searchState.error);\n        this.resetResults();\n        console.error(error);\n      }\n    }, {\n      key: \"resetResults\",\n      value: function resetResults() {\n        this.serverResult = [];\n        this.allTripOptions = [];\n        this.filteredTripOptions = [];\n      }\n    }, {\n      key: \"onSliderInputChange\",\n      value: function onSliderInputChange(value) {\n        this.qualityParams.find(function (param) {\n          return param.paramType === ParamTypes.price;\n        }).paramImportancePrecent = value;\n        this.qualityParams.find(function (param) {\n          return param.paramType === ParamTypes.totalTripLength;\n        }).paramImportancePrecent = this.maxSliderValue + this.minSliderValue - value;\n        this.allTripOptions = this.smartFlightsFilterService.getBestTripsResults(this.serverResult, this.qualityParams);\n        this.filteredTripOptions = this.filterTripsService.getFilteredTrips(this.allTripOptions, this.filterParams);\n      }\n    }, {\n      key: \"isOneWay\",\n      value: function isOneWay() {\n        return this.tripType === 'oneWay';\n      }\n    }, {\n      key: \"swapDestinations\",\n      value: function swapDestinations() {\n        var dest = this.whereFrom.value;\n        this.whereFrom.setValue(this.whereTo.value);\n        this.whereTo.setValue(dest);\n      }\n    }, {\n      key: \"onDatesToggleValueChange\",\n      value: function onDatesToggleValueChange(val) {\n        this.datesToggleValue = val;\n      }\n    }, {\n      key: \"manageLoadingValue\",\n      value: function manageLoadingValue() {\n        var _this4 = this;\n\n        this.loadingProgress = 2;\n        var tid = setInterval(function () {\n          if (_this4.currentSearchState === searchState.loading && _this4.loadingProgress < 90) {\n            _this4.loadingProgress += 2;\n          } else {\n            clearInterval(tid);\n          }\n        }, 500);\n      }\n    }, {\n      key: \"setCurrentState\",\n      value: function setCurrentState(state) {\n        var _this5 = this;\n\n        if (this.currentSearchState === searchState.loading) {\n          this.loadingProgress = 100;\n          setTimeout(function () {\n            _this5.currentSearchState = state;\n            _this5.loadingProgress = 0;\n          }, 500);\n        } else {\n          this.currentSearchState = state;\n        }\n      }\n    }, {\n      key: \"openDaysOffDialog\",\n      value: function openDaysOffDialog() {\n        var _this6 = this;\n\n        var dialogRef = this.dialog.open(DaysOffDialogComponent, {\n          width: '350px',\n          data: this.daysOff\n        });\n        dialogRef.afterClosed().subscribe(function (result) {\n          if (result) {\n            _this6.daysOff = result;\n          }\n        });\n      }\n    }, {\n      key: \"onPriceSliderInputChange\",\n      value: function onPriceSliderInputChange(value) {\n        this.priceSliderValue = value;\n        this.filterParams.maxPrice = this.priceSliderValue;\n        this.filteredTripOptions = this.filterTripsService.getFilteredTrips(this.allTripOptions, this.filterParams);\n      }\n    }, {\n      key: \"onPriceInputLiveChange\",\n      value: function onPriceInputLiveChange(event) {\n        this.priceSliderValue = event.value;\n      }\n    }, {\n      key: \"resetPriceSlider\",\n      value: function resetPriceSlider() {\n        this.priceSliderValue = undefined;\n        this.filterParams.maxPrice = this.priceSliderValue;\n        this.filteredTripOptions = this.filterTripsService.getFilteredTrips(this.allTripOptions, this.filterParams);\n      }\n    }, {\n      key: \"onCheckboxChanged\",\n      value: function onCheckboxChanged() {\n        this.filteredTripOptions = this.filterTripsService.getFilteredTrips(this.allTripOptions, this.filterParams);\n      }\n    }, {\n      key: \"resetStopsCheckboxs\",\n      value: function resetStopsCheckboxs() {\n        this.filterParams.numOfStops = {\n          zero: true,\n          one: true,\n          two: false,\n          threeAndMore: false\n        };\n        this.onCheckboxChanged();\n      }\n    }, {\n      key: \"resetOutboundTimesCheckboxs\",\n      value: function resetOutboundTimesCheckboxs() {\n        this.filterParams.flightTime.outbound = {\n          morning: true,\n          afternoon: true,\n          evening: true,\n          night: true\n        };\n        this.onCheckboxChanged();\n      }\n    }, {\n      key: \"resetInboundTimesCheckboxs\",\n      value: function resetInboundTimesCheckboxs() {\n        this.filterParams.flightTime.inbound = {\n          morning: true,\n          afternoon: true,\n          evening: true,\n          night: true\n        };\n        this.onCheckboxChanged();\n      }\n    }, {\n      key: \"addHoursToDate\",\n      value: function addHoursToDate(date, hours) {\n        date.setTime(date.getTime() + hours * 60 * 60 * 1000);\n        return date;\n      }\n    }, {\n      key: \"disableSearch\",\n      value: function disableSearch() {\n        return this.currentSearchState === searchState.loading || !this.isWhereFromValid() || !this.isWhereToValid() || !this.isDatesValid() || !this.isPlacesValid();\n      }\n    }, {\n      key: \"showErrorTooltip\",\n      value: function showErrorTooltip() {\n        return this.isWhereFromValid() && this.isWhereToValid() && this.isDatesValid() && this.isPlacesValid();\n      }\n    }, {\n      key: \"isWhereFromValid\",\n      value: function isWhereFromValid() {\n        return !this.whereFrom.value || this.whereFrom.value && this.whereFrom.value.placeId;\n      }\n    }, {\n      key: \"isWhereToValid\",\n      value: function isWhereToValid() {\n        return !this.whereTo.value || this.whereTo.value && this.whereTo.value.placeId;\n      }\n    }, {\n      key: \"isDatesValid\",\n      value: function isDatesValid() {\n        if (this.datesToggleValue === this.searchByDates && this.departureDate.value && this.returnDate.value) {\n          return this.departureDate.value <= this.returnDate.value;\n        } else {\n          return true;\n        }\n      }\n    }, {\n      key: \"isPlacesValid\",\n      value: function isPlacesValid() {\n        return !(this.whereFrom.value && this.whereTo.value && this.whereFrom.value.placeId === this.whereTo.value.placeId);\n      }\n    }, {\n      key: \"getTooltipMessage\",\n      value: function getTooltipMessage() {\n        if (!this.isWhereFromValid() || !this.isWhereToValid()) {\n          return 'Please choose existing locations';\n        }\n\n        if (!this.isPlacesValid()) {\n          return 'The departure and arrivle locations must be different';\n        }\n\n        if (!this.isDatesValid()) {\n          return 'Return date must be after departure date';\n        }\n\n        return 'form not valid';\n      }\n    }]);\n\n    return SearchFlightsComponent;\n  }();\n\n  SearchFlightsComponent.ɵfac = function SearchFlightsComponent_Factory(t) {\n    return new (t || SearchFlightsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.SmartFlightsFilterService), i0.ɵɵdirectiveInject(i3.DataDisplayService), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i5.FilterTripsService), i0.ɵɵdirectiveInject(i6.DaysOffUtilsService));\n  };\n\n  SearchFlightsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchFlightsComponent,\n    selectors: [[\"app-search-flights\"]],\n    decls: 56,\n    vars: 27,\n    consts: [[1, \"main-page\"], [1, \"form-card\"], [1, \"form-container\"], [1, \"form-first-row\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"roundTrip\", 1, \"radio-button-field\"], [\"value\", \"oneWay\", 1, \"radio-button-field\", 3, \"disabled\"], [1, \"search-by-container\"], [1, \"search-by-title\"], [1, \"search-by-button\", 3, \"value\", \"change\"], [\"group\", \"matButtonToggleGroup\"], [\"value\", \"Dates\"], [\"value\", \"DaysOff\", 3, \"disabled\"], [1, \"search-form\", 3, \"ngSubmit\"], [1, \"form-fields\"], [1, \"autocomplete-field\"], [\"matInput\", \"\", \"placeholder\", \"From...\", 3, \"matAutocomplete\", \"formControl\"], [\"autoActiveFirstOption\", \"\", 3, \"displayWith\", \"panelWidth\"], [\"autoFrom\", \"matAutocomplete\"], [\"class\", \"is-loading\", \"class\", \"autocomplete-option\", 4, \"ngIf\"], [\"class\", \"autocomplete-option\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"matInput\", \"\", \"placeholder\", \"To...\", 3, \"matAutocomplete\", \"formControl\"], [\"autoTo\", \"matAutocomplete\"], [1, \"dates-container\"], [4, \"ngIf\"], [1, \"options-container\"], [1, \"passengers-select\"], [\"name\", \"passengers\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matTooltipClass\", \"example-tooltip-red\", 1, \"search-button-div\", 3, \"matTooltip\", \"matTooltipDisabled\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"disabled\"], [\"class\", \"slider-container\", 4, \"ngIf\"], [1, \"results-content\"], [\"class\", \"filters-display\", 4, \"ngIf\"], [\"class\", \"space-div\", 4, \"ngIf\"], [\"class\", \"results-container\", 4, \"ngIf\"], [1, \"autocomplete-option\"], [\"diameter\", \"20\"], [1, \"autocomplete-option\", 3, \"value\"], [1, \"autocomplete-place-name\"], [1, \"autocomplete-country-name\"], [1, \"date-picker-field\", \"outbound-date\"], [\"matInput\", \"\", \"placeholder\", \"Departure on...\", 3, \"min\", \"max\", \"matDatepicker\", \"formControl\"], [\"matSuffix\", \"\", 3, \"for\"], [\"departurePicker\", \"\"], [1, \"date-picker-field\"], [\"matInput\", \"\", \"placeholder\", \"Return on...\", 3, \"min\", \"max\", \"disabled\", \"matDatepicker\", \"formControl\"], [\"returnPicker\", \"\"], [1, \"days-off-display\"], [\"name\", \"daysOff\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Choose a date range\", 3, \"satDatepicker\", \"formControl\", \"min\"], [3, \"rangeMode\"], [\"picker\", \"\"], [3, \"value\"], [1, \"slider-container\"], [1, \"slider-display\", 3, \"max\", \"min\", \"ngModel\", \"ngModelChange\", \"slideend\", \"pointerup\"], [\"mySlider\", \"\"], [1, \"filters-display\"], [1, \"filter-expander\"], [1, \"price-slider-display\", 3, \"max\", \"min\", \"ngModel\", \"ngModelChange\", \"slideend\", \"pointerup\", \"input\"], [\"priceSlider\", \"\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [1, \"checkbox-container\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"checkbox-hours\"], [1, \"space-div\"], [1, \"results-container\"], [3, \"message\", \"value\", 4, \"ngIf\"], [\"class\", \"trips-options\", 4, \"ngIf\"], [3, \"message\", \"value\"], [1, \"trips-options\"], [3, \"flightsResults\"]],\n    template: function SearchFlightsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r71 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"mat-radio-group\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_Template_mat_radio_group_ngModelChange_4_listener($event) {\n          return ctx.tripType = $event;\n        });\n        i0.ɵɵelementStart(5, \"mat-radio-button\", 5);\n        i0.ɵɵtext(6, \"Round Trip\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mat-radio-button\", 6);\n        i0.ɵɵtext(8, \"One Way\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8);\n        i0.ɵɵtext(11, \" Search By \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-button-toggle-group\", 9, 10);\n        i0.ɵɵlistener(\"change\", function SearchFlightsComponent_Template_mat_button_toggle_group_change_12_listener() {\n          i0.ɵɵrestoreView(_r71);\n\n          var _r0 = i0.ɵɵreference(13);\n\n          return i0.ɵɵresetView(ctx.onDatesToggleValueChange(_r0.value));\n        });\n        i0.ɵɵelementStart(14, \"mat-button-toggle\", 11);\n        i0.ɵɵtext(15, \"Dates\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-button-toggle\", 12);\n        i0.ɵɵtext(17, \"Days-off\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(18, \"form\", 13);\n        i0.ɵɵlistener(\"ngSubmit\", function SearchFlightsComponent_Template_form_ngSubmit_18_listener() {\n          return ctx.onSearch();\n        });\n        i0.ɵɵelementStart(19, \"div\", 14)(20, \"mat-form-field\", 15);\n        i0.ɵɵelement(21, \"input\", 16);\n        i0.ɵɵelementStart(22, \"mat-autocomplete\", 17, 18);\n        i0.ɵɵtemplate(24, SearchFlightsComponent_mat_option_24_Template, 2, 0, \"mat-option\", 19);\n        i0.ɵɵelementContainerStart(25);\n        i0.ɵɵtemplate(26, SearchFlightsComponent_mat_option_26_Template, 5, 3, \"mat-option\", 20);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function SearchFlightsComponent_Template_button_click_27_listener() {\n          return ctx.swapDestinations();\n        });\n        i0.ɵɵelementStart(28, \"mat-icon\");\n        i0.ɵɵtext(29, \"swap_horiz\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"mat-form-field\", 15);\n        i0.ɵɵelement(31, \"input\", 22);\n        i0.ɵɵelementStart(32, \"mat-autocomplete\", 17, 23);\n        i0.ɵɵtemplate(34, SearchFlightsComponent_mat_option_34_Template, 2, 0, \"mat-option\", 19);\n        i0.ɵɵelementContainerStart(35);\n        i0.ɵɵtemplate(36, SearchFlightsComponent_mat_option_36_Template, 5, 3, \"mat-option\", 20);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 24);\n        i0.ɵɵtemplate(38, SearchFlightsComponent_div_38_Template, 11, 11, \"div\", 25);\n        i0.ɵɵtemplate(39, SearchFlightsComponent_div_39_Template, 15, 7, \"div\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 26)(41, \"mat-form-field\", 27)(42, \"mat-label\");\n        i0.ɵɵtext(43, \"Passengers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"mat-select\", 28);\n        i0.ɵɵlistener(\"ngModelChange\", function SearchFlightsComponent_Template_mat_select_ngModelChange_44_listener($event) {\n          return ctx.numberOfPassengers = $event;\n        });\n        i0.ɵɵtemplate(45, SearchFlightsComponent_mat_option_45_Template, 2, 2, \"mat-option\", 29);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(46, \"div\", 30)(47, \"button\", 31);\n        i0.ɵɵtext(48, \"Search \");\n        i0.ɵɵelementStart(49, \"mat-icon\");\n        i0.ɵɵtext(50, \"search\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(51, SearchFlightsComponent_div_51_Template, 7, 3, \"div\", 32);\n        i0.ɵɵelementStart(52, \"div\", 33);\n        i0.ɵɵtemplate(53, SearchFlightsComponent_div_53_Template, 71, 17, \"div\", 34);\n        i0.ɵɵtemplate(54, SearchFlightsComponent_div_54_Template, 1, 0, \"div\", 35);\n        i0.ɵɵtemplate(55, SearchFlightsComponent_mat_card_55_Template, 5, 4, \"mat-card\", 36);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        var _r1 = i0.ɵɵreference(23);\n\n        var _r4 = i0.ɵɵreference(33);\n\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.tripType);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.datesToggleValue === \"DaysOff\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"value\", ctx.datesToggleValue);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.tripType === \"oneWay\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"matAutocomplete\", _r1)(\"formControl\", ctx.whereFrom);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"displayWith\", ctx.dataDisplayService.getPlaceDisplay)(\"panelWidth\", 250);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoadingFromOptions);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fromOptions);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"matAutocomplete\", _r4)(\"formControl\", ctx.whereTo);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"displayWith\", ctx.dataDisplayService.getPlaceDisplay)(\"panelWidth\", 250);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoadingToOptions);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.toOptions);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.datesToggleValue === \"Dates\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.datesToggleValue === \"DaysOff\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.numberOfPassengers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.numberOfPassengersOptions);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matTooltip\", ctx.getTooltipMessage())(\"matTooltipDisabled\", ctx.showErrorTooltip());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.disableSearch());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentSearchState === ctx.searchStatesEnum.succsses);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentSearchState === ctx.searchStatesEnum.succsses);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentSearchState != ctx.searchStatesEnum.succsses);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentSearchState !== ctx.searchStatesEnum.empty);\n      }\n    },\n    dependencies: [i7.NgForOf, i7.NgIf, i8.ɵNgNoValidate, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.NgModel, i8.NgForm, i9.SatDatepicker, i9.SatDatepickerInput, i9.SatDatepickerToggle, i4.MatIcon, i10.MatFormField, i10.MatLabel, i10.MatSuffix, i4.MatInput, i8.FormControlDirective, i4.MatAutocomplete, i11.MatOption, i4.MatAutocompleteTrigger, i4.MatButton, i4.MatDatepicker, i4.MatDatepickerInput, i4.MatDatepickerToggle, i4.MatRadioGroup, i4.MatRadioButton, i4.MatCard, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatSpinner, i4.MatSelect, i4.MatButtonToggleGroup, i4.MatButtonToggle, i4.MatCheckbox, i4.MatSlider, i4.MatTooltip, i12.FlightsResultsComponent, i13.ErrorMessageComponent, i14.NoResultsMessageComponent, i15.LoadingBarComponent],\n    styles: [\".main-page[_ngcontent-%COMP%]{width:100%;margin:50px auto auto}.main-page[_ngcontent-%COMP%]   .form-first-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:55px;margin-bottom:20px}.main-page[_ngcontent-%COMP%]   .passengers-select[_ngcontent-%COMP%]{width:70px}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{width:850px;margin-bottom:20px;margin-left:200px}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{margin-bottom:5px}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .date-picker-field[_ngcontent-%COMP%]{width:165px}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .search-button-div[_ngcontent-%COMP%]{text-align:center}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .radio-button-field[_ngcontent-%COMP%]{margin-right:40px}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .autocomplete-field[_ngcontent-%COMP%]{width:160px}.main-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .airport-id[_ngcontent-%COMP%]{font-weight:700}.is-loading[_ngcontent-%COMP%]     .mat-option-text{display:flex;justify-content:center}.form-fields[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-bottom:20px}.results-content[_ngcontent-%COMP%]{display:flex}.results-container[_ngcontent-%COMP%]{width:850px;border:1px solid #e0e0e0;border-radius:10px;padding:30px;transition:1s linear}.options-container[_ngcontent-%COMP%]{display:flex}.search-by-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:10px}.search-by-title[_ngcontent-%COMP%]{font-size:12px;color:#0000008a}.search-by-button[_ngcontent-%COMP%]{font-size:14px;height:28px;align-items:center}.outbound-date[_ngcontent-%COMP%]{margin-right:15px}.dates-container[_ngcontent-%COMP%]{width:350px}.days-off-display[_ngcontent-%COMP%]{width:75px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#00b8d44a}.dates-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center}.filters-display[_ngcontent-%COMP%], .space-div[_ngcontent-%COMP%]{width:181px;margin:0 10px}.mat-slider-track-fill[_ngcontent-%COMP%]{background-color:#b0b0b0!important}.slider-display[_ngcontent-%COMP%]{width:300px}.slider-display[_ngcontent-%COMP%]   .mat-slider-thumb[_ngcontent-%COMP%]{box-shadow:0 0 15px #ad1457;background-color:#ad1457!important;border-color:#ad1457!important}.slider-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#ad1457;font-weight:700}.autocomplete-place-name[_ngcontent-%COMP%]{line-height:normal;white-space:normal;font-weight:700;font-size:14px}.autocomplete-country-name[_ngcontent-%COMP%]{line-height:normal;font-size:14px;color:gray}.autocomplete-option[_ngcontent-%COMP%]{height:55px}.filter-expander[_ngcontent-%COMP%]{margin-bottom:10px}.price-slider-display[_ngcontent-%COMP%]{width:160px;left:-8px}.checkbox-container[_ngcontent-%COMP%]{display:grid}.checkbox-hours[_ngcontent-%COMP%]{font-size:10px;color:gray}.example-tooltip-red[_ngcontent-%COMP%]{background:#b71c1c}\"]\n  });\n  return SearchFlightsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}